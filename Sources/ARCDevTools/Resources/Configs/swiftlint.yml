# ARCDevTools SwiftLint Configuration
# Version: 1.0.0

# Directorios incluidos
included:
  - Sources
  - Tests

# Directorios excluidos
excluded:
  - .build
  - DerivedData
  - Pods
  - Carthage
  - "*/Generated/*"
  - "*.generated.swift"

# Reglas deshabilitadas
disabled_rules:
  - trailing_whitespace  # SwiftFormat lo maneja
  - todo                 # Permitimos TODOs

# Reglas opt-in (activar explícitamente)
opt_in_rules:
  - empty_count
  - sorted_imports
  - closure_spacing
  - explicit_init
  - redundant_type_annotation
  - unused_import
  - unused_declaration
  - vertical_whitespace_closing_braces
  - vertical_whitespace_opening_braces

# Configuración de umbrales
warning_threshold: 10
error_threshold: 50

# Configuración por regla

identifier_name:
  min_length: 2
  max_length: 60
  excluded:
    - id
    - ok
    - x
    - y
    - db
    - vm  # ViewModel común

type_name:
  min_length: 3
  max_length: 50
  excluded:
    - ID
    - URL

line_length:
  warning: 120
  error: 150
  ignores_comments: true
  ignores_urls: true
  ignores_function_declarations: true

type_body_length:
  warning: 300
  error: 500

function_body_length:
  warning: 50
  error: 100

file_length:
  warning: 500
  error: 1000

# Reglas personalizadas ARC Labs
custom_rules:

  # ViewModels deben usar @Observable
  observable_viewmodel:
    name: "ViewModels should use @Observable"
    regex: "final\\s+class\\s+\\w+ViewModel(?!.*@Observable)"
    message: "ViewModels deben usar @Observable en Swift 6"
    severity: warning

  # Evitar force unwrap en producción
  force_unwrap_production:
    name: "Avoid force unwrap"
    regex: "(?<!// )\\!(?!\\s*//)"
    match_kinds:
      - identifier
    message: "Evita force unwrap (!), usa guard let o if let"
    severity: warning

  # Print statements en código (solo warnings en dev)
  print_statement:
    name: "Print for debugging only"
    regex: "print\\("
    message: "Reemplaza print() con os.Logger en producción"
    severity: warning

# Reporter (formato de salida)
reporter: "xcode"
